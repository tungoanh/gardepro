"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}();!function(t){t(document).ready(function(){new o,new l,new r,new n,new c,new e,new a,wp.customize.previewer.bind("refresh-frame",function(){wp.customize.previewer.refresh()}),wp.customize.previewer.bind("opal-save-and-reload",function(){wp.customize.previewer.save().then(function(){wp.customize.previewer.refresh();var e=t("#customize-preview iframe").get(0);e.src=e.src})})});var e=function(){function e(){var o=this;_classCallCheck(this,e),this.button="[otf-button-move]",t(this.button).on("click",function(t){var e=t.target.getAttribute("data-id"),i=t.target.getAttribute("data-type");"section"===i?wp.customize.section(e).expand():"control"===i&&o.moveControl(e,i)}),wp.customize.previewer.bind("preview-move",function(t){"section"===t.type?wp.customize.section(t.id)&&wp.customize.section(t.id).expand():"control"===t.type&&o.moveControl(t.id,t.trigger)})}return _createClass(e,[{key:"moveControl",value:function(e,o){var i=wp.customize.control(e);i.expand(),setTimeout(function(){if(o)o=o.split("|"),o.length>1&&t(i.selector+" "+o[0]).trigger(o[1]);else{var e=t("input,select, button, textarea",i.selector).first(),n=e.val();e.focus(),e.val(""),e.val(n)}},300)}}]),e}(),o=function e(){_classCallCheck(this,e),t("input.alpha-color-control").alphaColorPicker()},i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getId",value:function(t){return t.data("id")}},{key:"setValue",value:function(t,e){wp.customize.control(this.getId(t)).setting.set(e)}}]),t}();wp.customize.bind("ready",function(){wp.customize("otf_colors_header_skin",function(e){var o=function(){var o={otf_colors_header_bg:"custom",otf_colors_header_color:"custom",otf_colors_topbar_bg:"custom",otf_colors_topbar_color:"custom"},i=""+e.get();for(var n in o)t("#customize-control-"+n).hide(),o[n]===i&&t("#customize-control-"+n).show()};o(),e.bind(o)}),wp.customize("otf_colors_footer_skin",function(e){var o=function(){var o={otf_colors_footer_bg:"custom",otf_colors_footer_color:"custom",otf_colors_copyright_bg:"custom",otf_colors_copyright_color:"custom"},i=""+e.get();for(var n in o)t("#customize-control-"+n).hide(),o[n]===i&&t("#customize-control-"+n).show()};o(),e.bind(o)}),wp.customize("otf_colors_buttons_enable_custom",function(e){var o=function(){var o={otf_colors_title_buttons_primary:"true",otf_colors_buttons_primary_bg:"true",otf_colors_buttons_primary_border:"true",otf_colors_buttons_primary_color:"true",otf_colors_title_buttons_secondary:"true",otf_colors_buttons_secondary_bg:"true",otf_colors_buttons_secondary_border:"true",otf_colors_buttons_secondary_color:"true"},i=""+e.get();for(var n in o)t("#customize-control-"+n).hide(),o[n]===i&&t("#customize-control-"+n).show()};o(),e.bind(o)}),wp.customize("otf_layout_general_layout_mode",function(e){var o=function(){var o={otf_layout_general_layout_boxed_width:"boxed",otf_layout_general_layout_side_header_width:"sideHeader",otf_layout_general_layout_side_header_position:"sideHeader"},i=""+e.get();for(var n in o)t("#customize-control-"+n).hide(),o[n]===i&&t("#customize-control-"+n).show()};o(),e.bind(o)}),wp.customize("otf_layout_general_content_width_type",function(e){var o=function(){var o={otf_layout_general_content_width_px:"px",otf_layout_general_content_width_percent:"%"},i=""+e.get();for(var n in o)t("#customize-control-"+n).hide(),o[n]===i&&t("#customize-control-"+n).show()};o(),e.bind(o)}),wp.customize("otf_layout_sidebar_is_boxed",function(e){var o=function(){var o={otf_layout_sidebar_title_outside:"true",otf_layout_sidebar_sidebar_heading_title:"true",otf_layout_sidebar_padding_inside_boxed:"true",otf_colors_sidebar_border_color:"true",otf_colors_sidebar_bg_color:"true",otf_layout_sidebar_padding:"true",otf_layout_sidebar_margin:"true"},i=""+e.get();for(var n in o)t("#customize-control-"+n).hide(),o[n]===i&&t("#customize-control-"+n).show()};o(),e.bind(o)}),wp.customize("otf_woocommerce_product_color_custom_enable",function(e){var o=function(){var o={otf_woocommerce_product_color_heading_add_to_cart:"true",otf_woocommerce_product_color_add_to_cart:"true",otf_woocommerce_product_color_bg_add_to_cart:"true",otf_woocommerce_product_color_border_add_to_cart:"true",otf_woocommerce_product_color_heading_quick_view:"true",otf_woocommerce_product_color_quick_view:"true",otf_woocommerce_product_color_bg_quick_view:"true",otf_woocommerce_product_color_border_quick_view:"true",otf_woocommerce_product_color_heading_wish_list:"true",otf_woocommerce_product_color_wish_list:"true",otf_woocommerce_product_color_bg_wish_list:"true",otf_woocommerce_product_color_border_wish_list:"true",otf_woocommerce_product_color_heading_compare:"true",otf_woocommerce_product_color_compare:"true",otf_woocommerce_product_color_bg_compare:"true",otf_woocommerce_product_color_border_compare:"true",otf_woocommerce_product_color_heading_label_sale:"true",otf_woocommerce_product_color_label_sale:"true",otf_woocommerce_product_color_bg_label_sale:"true",otf_woocommerce_product_color_border_label_sale:"true"},i=""+e.get();for(var n in o)t("#customize-control-"+n).hide(),o[n]===i&&t("#customize-control-"+n).show()};o(),e.bind(o)}),wp.customize("otf_footer_layout",function(e){var o=function(){var o={otf_footer_copyright:"0"},i=""+e.get();for(var n in o)t("#customize-control-"+n).hide(),o[n]===i&&t("#customize-control-"+n).show()};o(),e.bind(o)}),wp.customize("otf_page_404_page_enable",function(e){var o=function(){var o={otf_page_404_bg_image:"default",otf_page_404_bg_position:"default",otf_page_404_bg_repeat:"default",otf_page_404_bg:"default",otf_page_404_page_custom:"custom"},i=""+e.get();for(var n in o)t("#customize-control-"+n).hide(),o[n]===i&&t("#customize-control-"+n).show()};o(),e.bind(o)})});var n=function(){function e(){var o=this;_classCallCheck(this,e),this.container="[otf-font-style-control]",this.italic=".otf-italic",this.fontWeight=".otf-font-weight",this.underline=".otf-underline",this.uppercase=".otf-uppercase",t("#customize-theme-controls "+this.container).each(function(e,i){t(o.italic+", "+o.fontWeight+", "+o.underline+", "+o.uppercase,i).on("change",function(e){o.setValue(t(e.currentTarget).closest(o.container))})})}return _createClass(e,[{key:"setValue",value:function(t){var e={italic:t.find(this.italic).prop("checked"),underline:t.find(this.underline).prop("checked"),fontWeight:t.find(this.fontWeight).prop("checked"),uppercase:t.find(this.uppercase).prop("checked")};i.setValue(t,e)}}]),e}(),r=function(){function e(){var o=this;_classCallCheck(this,e),this.container="[otf-fonts-control]",this.googleFont=".otf-customize-google-fonts",this.googleFontWeight=".otf-font-weight select",this.googleFontSubsets=".otf-font-subsets select",t("#customize-theme-controls "+this.container).each(function(e,i){var n=t(i);o.initSelect2(n.find(o.googleFont)),o.initFontExtend(n.find(o.googleFontWeight)),o.initFontExtend(n.find(o.googleFontSubsets))})}return _createClass(e,[{key:"initFontExtend",value:function(t){var e=this;t.val(t.data("value")),t.on("change",function(){e.setValue(t.closest(e.container))})}},{key:"initSelect2",value:function(t){var e=this;this.initFontStyleHtml(t),t.select2_custom({templateResult:this.renderTemplate,templateSelection:this.renderTemplate}).on("change",function(){e.initFontStyleHtml(t),e.setValue(t.closest(e.container))})}},{key:"setValue",value:function(t){var e={family:t.find(this.googleFont+" option:selected").attr("value"),subsets:t.find(this.googleFontSubsets+" option:selected").attr("value"),fontWeight:t.find(this.googleFontWeight+" option:selected").attr("value")};i.setValue(t,e)}},{key:"initFontStyleHtml",value:function(t){var e=t.closest(this.container),o=t.children("option:selected").data("info"),i="",n="";if("object"===(void 0===o?"undefined":_typeof(o))){if(o.variants){i+='<option value="400">400</option>';var r=!0,c=!1,a=void 0;try{for(var l,s=o.variants[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value;i+='<option value="'+u+'">'+u+"</option>"}}catch(t){c=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(c)throw a}}}if(o.subsets){var _=!0,f=!1,d=void 0;try{for(var m,h=o.subsets[Symbol.iterator]();!(_=(m=h.next()).done);_=!0){var p=m.value;n+='<option value="'+p+'">'+p+"</option>"}}catch(t){f=!0,d=t}finally{try{!_&&h.return&&h.return()}finally{if(f)throw d}}}}e.find(".otf-font-weight select").html(i),e.find(".otf-font-subsets select").html(n)}},{key:"renderTemplate",value:function(e){if(!e.id)return e.text;var o=e.id.toLocaleLowerCase().replace(/\s+/,"-");return t("<span>"+e.text+'</span><span class="otf-font '+o+'"></span>')}}]),e}(),c=function(){function e(){var o=this;_classCallCheck(this,e),this.container="[otf-select-image-control]",this.listImage=".select-list-image",this.settingId="",this.$container="",this.createImageSelectLayout(),t("body").on("click",function(e){t(e.currentTarget).hasClass("changing-image")&&o.closePanel()}),t("#customize-theme-controls "+this.container+" "+this.listImage+" li").on("click",function(e){var n=t(e.currentTarget);if(!n.hasClass("active")){var r=n.closest(o.listImage),c=n.closest(o.container);r.children("li").removeClass("active"),n.addClass("active"),i.setValue(c,n.find("img").attr("alt"))}}),t(document).on("click",".button-change-image",function(e){e.preventDefault();var i=t("body");if(i.hasClass("changing-image"))o.closePanel();else{o.$container=t(e.currentTarget).closest(".opal-control-image-select");var n=o.$container.children(".image-select"),r=n.html();o.settingId=o.$container.data("id"),o.setPanelContent(r.trim()),i.addClass("changing-image")}}).on("click",".image-select-tpl",function(e){e.stopPropagation();var n=t(e.currentTarget);if(!n.hasClass("active")&&o.$container){var r=t("#customize-control-"+o.settingId),c=n.children("img").attr("alt");r.find(".image-select-tpl").removeClass("active"),r.find('.image-select-tpl[data-value="'+c+'"]').addClass("active"),i.setValue(o.$container,c)}o.closePanel()})}return _createClass(e,[{key:"createImageSelectLayout",value:function(){t("body .wp-full-overlay").append('<div id="select-image-left">\x3c!-- compatibility with JS which looks for widget templates here --\x3e\n    <div id="available-select-image">\n        <div id="available-images-list">\n                \n        </div>\x3c!-- #available-images-list --\x3e\n    </div>\x3c!-- #available-select-image --\x3e\n</div>')}},{key:"setPanelContent",value:function(e){t("#available-images-list").html(e)}},{key:"closePanel",value:function(){t("body").removeClass("changing-image")}}]),e}(),a=function(){function e(){_classCallCheck(this,e),this.container="#otf-customize-quick-search",t("#customize-header-actions").length>0&&this.init()}return _createClass(e,[{key:"init",value:function(){}},{key:"renderHtml",value:function(){return'<div id="'+this.container.replace("#","")+'">\n    <input class="search-for" type="text" value="" placeholder="Search...">\n    <div class="search-results hidden"></div>\n</div>'}}]),e}(),l=function(){function e(){var o=this;_classCallCheck(this,e),t(".otf-customize-slider .otf-slider").each(function(t,e){o.initSlider(e)})}return _createClass(e,[{key:"initSlider",value:function(e){var o=t(e),i=o.data("id"),n=o.data("unit")?o.data("unit"):"";o.slider({range:"min",min:o.data("min"),max:o.data("max"),step:o.data("step"),value:o.data("value"),create:function(t,e){o.children(".ui-slider-handle").html("<span>"+o.slider("value")+n+"</span>")},slide:function(t,e){o.children(".ui-slider-handle").html("<span>"+e.value+n+"</span>"),wp.customize.control(i).setting.set(e.value)},change:function(t,e){o.children(".ui-slider-handle").html("<span>"+e.value+n+"</span>"),wp.customize.control(i).setting.set(e.value)}}),o.next().on("click",function(){o.slider("value",o.data("default-value"))})}}]),e}()}(jQuery);
//# sourceMappingURL=customize-controls.js.map
