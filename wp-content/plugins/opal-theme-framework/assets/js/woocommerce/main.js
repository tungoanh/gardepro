"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}}();!function(t){var e=function(){function e(){_classCallCheck(this,e),this.initCarousel(),this.addedToCart(),this.initWishlist(),this.initVariableItem()}return _createClass(e,[{key:"initVariableItem",value:function(){t(".otf-wrap-swatches .swatch").on("click",function(e){e.preventDefault();var a=t(e.currentTarget),o=a.closest(".product");if(a.hasClass("checked"))o.removeClass("product-swatched"),a.removeClass("checked"),o.find(".product-image-swatch").remove();else{a.closest(".otf-wrap-swatches").find(".swatch").removeClass("checked"),o.addClass("product-swatched product-swatch-loading"),a.addClass("checked");var s=a.data("image");if(s.src){var c=t("<img />").on("load",function(t){o.find(".product-image-swatch").remove(),o.removeClass("product-swatch-loading"),o.find(".product-image").first().before('<div class="product-image-swatch">'+t.currentTarget.outerHTML+"</div>")}).attr({src:s.src});s.srcset&&c.attr(srcset,s.srcset)}}})}},{key:"initCarousel",value:function(){t(".woocommerce-carousel").each(function(e,a){var o=t(a),s=o.data("columns"),c=o.data("nav"),i=o.data("dot"),n=2,r=s;s>3&&(r=s-1,n=s-2),s<2&&(n=s),o.find("> .products").owlCarousel({items:s,nav:c,dots:i,responsive:{0:{items:1,dots:!1},480:{items:1,dots:!1},768:{items:n},980:{items:r},1200:{items:s}}})}),t(".woocommerce-product-carousel").each(function(e,a){var o=t(a),s=o.data("columns"),c=2,i=s;s>3&&(i=s-1,c=s-2),s<2&&(c=s),o.find("ul.products").owlCarousel({items:s,nav:!0,dots:!1,responsive:{0:{items:1},480:{items:1},768:{items:c},980:{items:i},1200:{items:s}}})})}},{key:"addedToCart",value:function(){var e=void 0;t("body").on("adding_to_cart",function(t,a){e=a.closest(".product")}).on("added_to_cart",function(){var a=e.find("img").first().attr("src"),o=e.find(".woocommerce-loop-product__title").text(),s=wp.template("added-to-cart-template");t("#page-title-bar").after(s({src:a,name:o})),setTimeout(function(){t(".notification-added-to-cart").addClass("hide")},3e3)})}},{key:"initWishlist",value:function(){t(document).on("added_to_wishlist removed_from_wishlist",function(){var e=t(".opal-header-wishlist");t.ajax({url:yith_wcwl_l10n.ajax_url,data:{action:"otf_update_wishlist_count"},dataType:"json",success:function(t){e.find(".count").text(t.count)},beforeSend:function(){},complete:function(){}})})}}]),e}();t(document).ready(function(){new e})}(jQuery);
//# sourceMappingURL=main.js.map
