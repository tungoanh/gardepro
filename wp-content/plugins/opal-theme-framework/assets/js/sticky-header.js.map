{"version":3,"sources":["before.js","sticky-header.js","after.js"],"names":["$","OTF_Sticky_Header_JS","_classCallCheck","this","action","$header","setupValue","initHeaderSticky","initRealEstateNav","_createClass","key","value","outerHeight","offset","top","hasClass","headerSticky","wp","template","menuFull","getTemplate","menu","$menu","length","find","remove","css","get","outerHTML","append","logo","account","cart","addEventSticky","wishlist","search","$headerSticky","removeClass","selector","$selector","window","load","jQuery"],"mappings":"8XAAA,SAAAA,GAAA,GCAAC,GDAA,WCIA,QAAAA,KAAAC,gBAAAC,KAAAF,GAAAE,KAHAC,OAAA,EAGAD,KAFAE,QAAA,KAGAF,KAAAG,aDLAH,KAAAI,mBAAAJ,KAAAK,oBAAA,MAAAC,cAAAR,IAAAS,IAAA,oBAAAC,MAAA,eAAAD,IAAA,aAAAC,MAAA,WAAAR,KAAAE,UAAAF,KAAAE,QAAAL,EAAA,cCYAG,KAAAC,OAAAD,KAAAE,QAAAO,cAAAT,KAAAE,QAAAQ,SAAAC,ODZAJ,IAAA,mBAAAC,MAAA,WCgBA,GAAAX,EAAA,QAAAe,SAAA,sBAAA,CDhBA,GAAAC,GAAAC,GAAAC,SAAA,sBCmBAC,EAAAhB,KAAAiB,YAAA,8BACAC,EAAA,GACAC,EAAAtB,EAAAmB,EACAG,GAAAC,OAAA,IACAD,EAAAE,KAAA,qBAAAC,SDvBAH,EAAAE,KAAA,qBAAAC,SAAAH,EAAAE,KAAA,aAAAE,IAAA,cAAA,IAAAJ,EAAAE,KAAA,kBAAAE,IAAA,cAAA,IC0BAL,EAAAC,EAAAK,IAAA,GAAAC,WAEA5B,EAAA,QAAA6B,OAAAb,GACAc,KAAA3B,KAAAiB,YAAA,4BACAD,SAAAA,EACAE,KAAAA,EACAU,QAAA5B,KAAAiB,YAAA,kCACAY,KAAA7B,KAAAiB,YAAA,+BACAE,SAAAA,KAAAA,YAAAA,mCACAA,OAAAA,KAAAA,YAAAA,iCACAA,WAAAA,KAAAA,YAAAA,oCAGAnB,KAAA8B,qBDvCAvB,IAAA,iBAAAC,MAAA,WC0CAQ,GAAAA,GAAAA,IACAE,GAAAA,QAAAA,OAAAA,WACAU,GAAAA,GAAAA,EAAAA,sBACAC,GAAAA,QAAAA,YAAAA,GAAAA,EAAAA,OACAE,EAAAA,SAAAA,gBACAC,EAAAA,SAAAA,eAeAC,EAAAC,YAAA,oBD9DA3B,IAAA,cAAAC,MAAA,SAAA2B,GCsDA,GAAAC,GAAAvC,EAAAsC,EAeA,OAAAC,GAAAhB,OAAA,EAdAvB,EAAAA,IAAAA,GAAAA,UAEA,ODzDAC,IC6DAD,GAAAwC,QAAAC,KAAA,WACAL,GAAAA,MC9DAM","file":"sticky-header.js","sourcesContent":["(function ($) {","class OTF_Sticky_Header_JS {\n    action = 0;\n    $header = null;\n\n    constructor() {\n        this.setupValue();\n        this.initHeaderSticky();\n        this.initRealEstateNav();\n    }\n\n\n    initRealEstateNav() {\n        // $('body.property-style-4 .opal-tab-nav > .inner').sticky({\n        //     topSpacing: this.top,\n        //     wrapperClassName: 'property-nav-sticky'\n        // })\n    }\n\n    setupValue() {\n        if (!this.$header) {\n            this.$header = $('#masthead');\n        }\n        this.action = this.$header.outerHeight() + this.$header.offset().top;\n    }\n\n    initHeaderSticky() {\n        if(!$('body').hasClass('opal-header-sticky')){\n            return;\n        }\n        let headerSticky = wp.template('opal-header-sticky');\n        let menuFull = this.getTemplate('#masthead .mainmenu-skicky');\n        let menu = '';\n        let $menu = $(menuFull);\n        if($menu.length > 0){\n            $menu.find('.site-header-cart').remove();\n            $menu.find('.menu-item-search').remove();\n            $menu.find('.top-menu').css('marginRight','');\n            $menu.find('.top-menu > li').css('marginRight', '');\n            menu = $menu.get(0).outerHTML;\n        }\n        $('body').append(headerSticky({\n            logo    : this.getTemplate('#masthead .site-branding'),\n            menuFull: menuFull,\n            menu    : menu,\n            account : this.getTemplate('#masthead .site-header-account'),\n            cart    : this.getTemplate('#masthead .site-header-cart'),\n            wishlist: this.getTemplate('#masthead .site-header-wishlist'),\n            search  : this.getTemplate('#masthead .site-header-search'),\n            itemCustom : this.getTemplate('#masthead .sticky-item-custom'),\n        }))\n\n        this.addEventSticky();\n    }\n\n    addEventSticky(){\n        $(window).scroll(() => {\n            let $headerSticky = $('#opal-header-sticky');\n            if ($(window).scrollTop() + 10 > this.action) {\n                if (!$headerSticky.hasClass('sticky-show')) {\n                    $headerSticky.addClass('sticky-show');\n                }\n            } else {\n                $headerSticky.removeClass('sticky-show')\n            }\n        });\n    }\n\n    getTemplate(selector) {\n        let $selector = $(selector);\n        if ($selector.length > 0) {\n            return $selector.get(0).outerHTML;\n        }\n        return '';\n    }\n}\n\n$(window).load(() => {\n    new OTF_Sticky_Header_JS();\n});\n","})(jQuery);"]}