"use strict";function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var a=o[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(o,t,a){return t&&e(o.prototype,t),a&&e(o,a),o}}();!function(e){e(document).ready(function(){new t,new n,new l,new r,new u,new o,new i,new c,wp.customize.previewer.bind("refresh-frame",function(){wp.customize.previewer.refresh()}),wp.customize.previewer.bind("opal-save-and-reload",function(){wp.customize.previewer.save().then(function(){wp.customize.previewer.refresh();var o=e("#customize-preview iframe").get(0);o.src=o.src})})});var o=function(){function o(){var t=this;_classCallCheck(this,o),this.button="[otf-button-move]",e(this.button).on("click",function(e){var o=e.target.getAttribute("data-id"),a=e.target.getAttribute("data-type");"section"===a?wp.customize.section(o).expand():"control"===a&&t.moveControl(o,a)}),wp.customize.previewer.bind("preview-move",function(e){"section"===e.type?wp.customize.section(e.id)&&wp.customize.section(e.id).expand():"control"===e.type&&t.moveControl(e.id,e.trigger)})}return _createClass(o,[{key:"moveControl",value:function(o,t){var a=wp.customize.control(o);a.expand(),setTimeout(function(){if(t)t=t.split("|"),t.length>1&&e(a.selector+" "+t[0]).trigger(t[1]);else{var o=e("input,select, button, textarea",a.selector).first(),r=o.val();o.focus(),o.val(""),o.val(r)}},550)}}]),o}(),t=function o(){_classCallCheck(this,o),e("input.alpha-color-control").alphaColorPicker()},a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getId",value:function(e){return e.data("id")}},{key:"setValue",value:function(e,o){wp.customize.control(this.getId(e)).setting.set(o)}}]),e}();wp.customize.bind("ready",function(){wp.customize("otf_colors_header_skin",function(o){var t=function(){var t={otf_colors_header_bg:{value:"custom",equal:"="},otf_colors_header_color:{value:"custom",equal:"="},otf_colors_topbar_bg:{value:"custom",equal:"="},otf_colors_topbar_color:{value:"custom",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_colors_header_sticky_skin",function(o){var t=function(){var t={otf_colors_header_sticky_bg:{value:"custom",equal:"="},otf_colors_header_sticky_color:{value:"custom",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_colors_footer_skin",function(o){var t=function(){var t={otf_colors_footer_bg:{value:"custom",equal:"="},otf_colors_footer_color:{value:"custom",equal:"="},otf_colors_copyright_bg:{value:"custom",equal:"="},otf_colors_copyright_color:{value:"custom",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_colors_buttons_enable_custom",function(o){var t=function(){var t={otf_colors_title_buttons_primary:{value:"true",equal:"="},otf_colors_buttons_primary_bg:{value:"true",equal:"="},otf_colors_buttons_primary_border:{value:"true",equal:"="},otf_colors_buttons_primary_color:{value:"true",equal:"="},otf_colors_buttons_primary_color_outline:{value:"true",equal:"="},otf_colors_title_buttons_secondary:{value:"true",equal:"="},otf_colors_buttons_secondary_bg:{value:"true",equal:"="},otf_colors_buttons_secondary_border:{value:"true",equal:"="},otf_colors_buttons_secondary_color:{value:"true",equal:"="},otf_colors_buttons_secondary_color_outline:{value:"true",equal:"="},otf_colors_title_buttons_primary_hover:{value:"true",equal:"="},otf_colors_buttons_primary_hover_bg:{value:"true",equal:"="},otf_colors_buttons_primary_hover_border:{value:"true",equal:"="},otf_colors_buttons_primary_hover_color:{value:"true",equal:"="},otf_colors_title_buttons_secondary_hover:{value:"true",equal:"="},otf_colors_buttons_secondary_hover_bg:{value:"true",equal:"="},otf_colors_buttons_secondary_hover_border:{value:"true",equal:"="},otf_colors_buttons_secondary_hover_color:{value:"true",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_layout_general_layout_mode",function(o){var t=function(){var t={otf_layout_general_layout_boxed_width:{value:"boxed",equal:"="},otf_layout_general_layout_boxed_offset:{value:"boxed",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_layout_general_content_width_type",function(o){var t=function(){var t={otf_layout_general_content_width_px:{value:"px",equal:"="},otf_layout_general_content_width_percent:{value:"%",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_layout_sidebar_is_boxed",function(o){var t=function(){var t={otf_layout_sidebar_title_outside:{value:"true",equal:"="},otf_layout_sidebar_sidebar_heading_title:{value:"true",equal:"="},otf_layout_sidebar_padding_inside_boxed:{value:"true",equal:"="},otf_colors_sidebar_border_color:{value:"true",equal:"="},otf_colors_sidebar_bg_color:{value:"true",equal:"="},otf_layout_sidebar_padding:{value:"true",equal:"="},otf_layout_sidebar_margin:{value:"true",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_page_404_page_enable",function(o){var t=function(){var t={otf_page_404_bg_image:{value:"default",equal:"="},otf_page_404_bg_position:{value:"default",equal:"="},otf_page_404_bg_repeat:{value:"default",equal:"="},otf_page_404_bg:{value:"default",equal:"="},otf_page_404_page_custom:{value:"custom",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_header_enable_builder",function(o){var t=function(){var t={otf_header_builder:{value:"true",equal:"="},otf_header_width:{value:"true",equal:"!="},otf_header_layout_enable_cart_in_menu:{value:"true",equal:"!="},otf_header_layout_enable_search_form_in_menu:{value:"true",equal:"!="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_header_layout_is_sticky",function(o){var t=function(){var t={otf_header_layout_sticky_layout:{value:"true",equal:"="},otf_header_layout_sticky_full_width:{value:"true",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_header_layout_enable_side_header",function(o){var t=function(){var t={otf_header_layout_side_header_position:{value:"true",equal:"="},otf_header_layout_side_header_width:{value:"true",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_footer_layout",function(o){var t=function(){var t={otf_footer_copyright:{value:"0",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_blog_single_layout",function(o){var t=function(){var t={otf_blog_single_sidebar:{value:"1c",equal:"!="},otf_blog_single_sidebar_width:{value:"1c",equal:"!="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_woocommerce_archive_layout",function(o){var t=function(){var t={otf_woocommerce_archive_sidebar:{value:"1c",equal:"!="},otf_woocommerce_archive_sidebar_width:{value:"1c",equal:"!="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_woocommerce_single_layout",function(o){var t=function(){var t={otf_woocommerce_single_sidebar:{value:"1c",equal:"!="},otf_woocommerce_single_sidebar_width:{value:"1c",equal:"!="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_woocommerce_product_color_custom_enable",function(o){var t=function(){var t={otf_woocommerce_product_color_heading_add_to_cart:{value:"true",equal:"="},otf_woocommerce_product_color_add_to_cart:{value:"true",equal:"="},otf_woocommerce_product_color_bg_add_to_cart:{value:"true",equal:"="},otf_woocommerce_product_color_border_add_to_cart:{value:"true",equal:"="},otf_woocommerce_product_color_add_to_cart_hover:{value:"true",equal:"="},otf_woocommerce_product_color_bg_add_to_cart_hover:{value:"true",equal:"="},otf_woocommerce_product_color_border_add_to_cart_hover:{value:"true",equal:"="},otf_woocommerce_product_color_heading_quick_view:{value:"true",equal:"="},otf_woocommerce_product_color_quick_view:{value:"true",equal:"="},otf_woocommerce_product_color_bg_quick_view:{value:"true",equal:"="},otf_woocommerce_product_color_border_quick_view:{value:"true",equal:"="},otf_woocommerce_product_color_quick_view_hover:{value:"true",equal:"="},otf_woocommerce_product_color_bg_quick_view_hover:{value:"true",equal:"="},otf_woocommerce_product_color_border_quick_view_hover:{value:"true",equal:"="},otf_woocommerce_product_color_heading_wish_list:{value:"true",equal:"="},otf_woocommerce_product_color_wish_list:{value:"true",equal:"="},otf_woocommerce_product_color_bg_wish_list:{value:"true",equal:"="},otf_woocommerce_product_color_border_wish_list:{value:"true",equal:"="},otf_woocommerce_product_color_wish_list_hover:{value:"true",equal:"="},otf_woocommerce_product_color_bg_wish_list_hover:{value:"true",equal:"="},otf_woocommerce_product_color_border_wish_list_hover:{value:"true",equal:"="},otf_woocommerce_product_color_heading_compare:{value:"true",equal:"="},otf_woocommerce_product_color_compare:{value:"true",equal:"="},otf_woocommerce_product_color_bg_compare:{value:"true",equal:"="},otf_woocommerce_product_color_border_compare:{value:"true",equal:"="},otf_woocommerce_product_color_compare_hover:{value:"true",equal:"="},otf_woocommerce_product_color_bg_compare_hover:{value:"true",equal:"="},otf_woocommerce_product_color_border_compare_hover:{value:"true",equal:"="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_property_archive_layout",function(o){var t=function(){var t={otf_property_archive_sidebar_heading_label:{value:"1c",equal:"!="},otf_property_archive_sidebar:{value:"1c",equal:"!="},otf_property_archive_sidebar_width:{value:"1c",equal:"!="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)}),wp.customize("otf_property_single_layout",function(o){var t=function(){var t={otf_property_single_sidebar_heading_label:{value:"1c",equal:"!="},otf_property_single_sidebar:{value:"1c",equal:"!="},otf_property_single_sidebar_width:{value:"1c",equal:"!="}},a=""+o.get();for(var r in t)e("#customize-control-"+r).hide(),"!="===t[r].equal?t[r].value!==a&&e("#customize-control-"+r).show():t[r].value===a&&e("#customize-control-"+r).show()};t(),o.bind(t)})}),function(e,o){e(window).load(function(){e("textarea.wp-editor-area").each(function(){var o,t,a=e(this),r=a.attr("id"),l=e('input[data-customize-setting-link="'+r+'"]'),u=tinyMCE.get(r);u&&u.on("change",function(e){u.save(),t=u.getContent(),clearTimeout(o),o=setTimeout(function(){l.val(t).trigger("change")},500)}),a.css("visibility","visible").on("keyup",function(){t=a.val(),clearTimeout(o),o=setTimeout(function(){l.val(t).trigger("change")},500)})})})}(jQuery,wp.customize);var r=function(){function o(){var t=this;_classCallCheck(this,o),this.container="[otf-font-style-control]",this.italic=".otf-italic",this.fontWeight=".otf-font-weight",this.underline=".otf-underline",this.uppercase=".otf-uppercase",e("#customize-theme-controls "+this.container).each(function(o,a){e(t.italic+", "+t.fontWeight+", "+t.underline+", "+t.uppercase,a).on("change",function(o){t.setValue(e(o.currentTarget).closest(t.container))})})}return _createClass(o,[{key:"setValue",value:function(e){var o={italic:e.find(this.italic).prop("checked"),underline:e.find(this.underline).prop("checked"),fontWeight:e.find(this.fontWeight).prop("checked"),uppercase:e.find(this.uppercase).prop("checked")};a.setValue(e,o)}}]),o}(),l=function(){function o(){var t=this;_classCallCheck(this,o),this.container="[otf-fonts-control]",this.googleFont=".otf-customize-google-fonts",this.googleFontWeight=".otf-font-weight select",this.googleFontSubsets=".otf-font-subsets select",e("#customize-theme-controls "+this.container).each(function(o,a){var r=e(a);t.initSelect2(r.find(t.googleFont)),t.initFontExtend(r.find(t.googleFontWeight)),t.initFontExtend(r.find(t.googleFontSubsets))})}return _createClass(o,[{key:"initFontExtend",value:function(e){var o=this;e.val(e.data("value")),e.on("change",function(){o.setValue(e.closest(o.container))})}},{key:"initSelect2",value:function(e){var o=this;this.initFontStyleHtml(e),e.select2_custom({templateResult:this.renderTemplate,templateSelection:this.renderTemplate}).on("change",function(){o.initFontStyleHtml(e),o.setValue(e.closest(o.container))})}},{key:"setValue",value:function(e){var o={family:e.find(this.googleFont+" option:selected").attr("value"),subsets:e.find(this.googleFontSubsets+" option:selected").attr("value"),fontWeight:e.find(this.googleFontWeight+" option:selected").attr("value")};a.setValue(e,o)}},{key:"initFontStyleHtml",value:function(e){var o=e.closest(this.container),t=e.children("option:selected").data("info"),a="",r="";if("object"===(void 0===t?"undefined":_typeof(t))){if(t.variants){a+='<option value="400">400</option>';var l=!0,u=!1,i=void 0;try{for(var c,n=t.variants[Symbol.iterator]();!(l=(c=n.next()).done);l=!0){var s=c.value;a+='<option value="'+s+'">'+s+"</option>"}}catch(e){u=!0,i=e}finally{try{!l&&n.return&&n.return()}finally{if(u)throw i}}}if(t.subsets){var _=!0,v=!1,f=void 0;try{for(var d,m=t.subsets[Symbol.iterator]();!(_=(d=m.next()).done);_=!0){var h=d.value;r+='<option value="'+h+'">'+h+"</option>"}}catch(e){v=!0,f=e}finally{try{!_&&m.return&&m.return()}finally{if(v)throw f}}}}o.find(".otf-font-weight select").html(a),o.find(".otf-font-subsets select").html(r)}},{key:"renderTemplate",value:function(o){if(!o.id)return o.text;var t=o.id.toLocaleLowerCase().replace(/\s+/,"-");return e("<span>"+o.text+'</span><span class="otf-font '+t+'"></span>')}}]),o}(),u=function(){function o(){var t=this;_classCallCheck(this,o),this.container="[otf-select-image-control]",this.listImage=".select-list-image",this.settingId="",this.$container="",this.createImageSelectLayout(),e("body").on("click",function(o){e(o.currentTarget).hasClass("changing-image")&&t.closePanel()}),e("#customize-theme-controls "+this.container+" "+this.listImage+" li").on("click",function(o){var r=e(o.currentTarget);if(!r.hasClass("active")){var l=r.closest(t.listImage),u=r.closest(t.container);l.children("li").removeClass("active"),r.addClass("active"),a.setValue(u,r.find("img").attr("alt"))}}),e(document).on("click",".button-change-image",function(o){o.preventDefault();var a=e("body");if(a.hasClass("changing-image"))t.closePanel();else{t.$container=e(o.currentTarget).closest(".opal-control-image-select");var r=t.$container.children(".image-select"),l=r.html();t.settingId=t.$container.data("id"),t.setPanelContent(l.trim()),a.addClass("changing-image")}}).on("click",".image-select-tpl",function(o){o.stopPropagation();var r=e(o.currentTarget);if(!r.hasClass("active")&&t.$container){var l=e("#customize-control-"+t.settingId),u=r.children("img").attr("alt");l.find(".image-select-tpl").removeClass("active"),l.find('.image-select-tpl[data-value="'+u+'"]').addClass("active"),a.setValue(t.$container,u)}t.closePanel()})}return _createClass(o,[{key:"createImageSelectLayout",value:function(){e("body .wp-full-overlay").append('<div id="select-image-left">\x3c!-- compatibility with JS which looks for widget templates here --\x3e\n    <div id="available-select-image">\n        <div id="available-images-list">\n                \n        </div>\x3c!-- #available-images-list --\x3e\n    </div>\x3c!-- #available-select-image --\x3e\n</div>')}},{key:"setPanelContent",value:function(o){e("#available-images-list").html(o)}},{key:"closePanel",value:function(){e("body").removeClass("changing-image")}}]),o}();e(document).ready(function(){e(".otf-select-group-button").each(function(o,t){var a=e(t),r=a.find(">select"),l=a.find(">.button"),u=r.val();if(""!==u){var i=a.find('option[value="'+u+'"]').data("id");i&&(l.attr("href",l.data("link")+"&post="+i),l.show())}})});var i=function(){function o(){_classCallCheck(this,o),this.container="#otf-customize-quick-search",e("#customize-header-actions").length>0&&this.init()}return _createClass(o,[{key:"init",value:function(){}},{key:"renderHtml",value:function(){return'<div id="'+this.container.replace("#","")+'">\n    <input class="search-for" type="text" value="" placeholder="Search...">\n    <div class="search-results hidden"></div>\n</div>'}}]),o}(),c=function o(){_classCallCheck(this,o),e("#customize-theme-controls .otf-switch-sidebar").on("change",function(o){var t=e(o.currentTarget).next().find("button");console.log(t),t.attr("data-id","sidebar-widgets-"+o.currentTarget.value)})},n=function(){function o(){var t=this;_classCallCheck(this,o),e(".otf-customize-slider .otf-slider").each(function(e,o){t.initSlider(o)})}return _createClass(o,[{key:"initSlider",value:function(o){var t=e(o),a=t.data("id"),r=t.data("unit")?t.data("unit"):"";t.slider({range:"min",min:t.data("min"),max:t.data("max"),step:t.data("step"),value:t.data("value"),create:function(e,o){t.children(".ui-slider-handle").html("<span>"+t.slider("value")+r+"</span>")},slide:function(e,o){t.children(".ui-slider-handle").html("<span>"+o.value+r+"</span>"),wp.customize.control(a).setting.set(o.value)},change:function(e,o){t.children(".ui-slider-handle").html("<span>"+o.value+r+"</span>"),wp.customize.control(a).setting.set(o.value)}}),t.next().on("click",function(){t.slider("value",t.data("default-value"))})}}]),o}()}(jQuery);
//# sourceMappingURL=customize.js.map
