"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}();!function(t){var a=function(){function a(){var e=this;_classCallCheck(this,a),this.initTabSettings(),this.initPageLayout(),this.initFooterLayout(),t(".otf-customize-slider .otf-slider").each(function(t,a){e.initSlider(a)})}return _createClass(a,[{key:"initPageLayout",value:function(){var a=t("[otf-page-layout]");a.find("li").on("click",function(){a.find("li").removeClass("active");var e=t(this).addClass("active").find("img").attr("alt");a.prev().val(e)})}},{key:"initFooterLayout",value:function(){var a=t(".opal-control-footer");a.find(".footer-select").on("change",function(){var t=a.find("option:selected").val();a.find(".image-select-tpl").removeClass("active"),a.find(".image-select [data-value="+t+"]").addClass("active"),a.prev().val(t)})}},{key:"formatPrice",value:function(){t('[format-price="true"]',"#opaltab-customfield").each(function(a,e){t(e).val(OREAdminFunctionJs.formatPrice(Number(t(e).val().trim().replace(/[^\d]*/g,"")))),t(e).on("keyup",function(a){t(a.currentTarget).val(OREAdminFunctionJs.formatPrice(Number(a.target.value.trim().replace(/[^\d]*/g,""))))})})}},{key:"initTabSettings",value:function(){var a=[];t('#postbox-container-2 [id^="otf_page_"].postbox').each(function(t,e){a.push(e)}),this._renderTabHtml(a),this._tabAction()}},{key:"initSlider",value:function(a){var e=t(a),n=e.data("id"),i=e.data("unit")?e.data("unit"):"";e.slider({range:"min",min:e.data("min"),max:e.data("max"),step:e.data("step"),value:e.data("value"),create:function(t,a){e.children(".ui-slider-handle").html("<span>"+e.slider("value")+i+"</span>")},slide:function(a,o){e.children(".ui-slider-handle").html("<span>"+o.value+i+"</span>"),t("#"+n).val(o.value)},change:function(a,e){t(e.handle).closest(".cmb2-slider-element").find('[opal-hidden="true"]').val(e.value)}}),e.next().on("click",function(){e.slider("value",e.data("default-value"))})}},{key:"_renderTabHtml",value:function(a){var e='\n<section id="opaltab-customfield">\n    <h2 class="opaltab-heading"><span>Page Settings</span></h2>\n    <div class="opal-customfield-tabs tabs-style-bar">\n        <nav class="opal-nav">\n            <ul>',n=!0,i=!1,o=void 0;try{for(var r,l=a[Symbol.iterator]();!(n=(r=l.next()).done);n=!0){var c=r.value,s="#tab-section-"+t(c).attr("id"),u=t('label[for="'+t(c).attr("id")+'-hide"] [class*="icon-"]');u=u.length>0?'<i class="'+u.attr("class")+'"></i>':"";e+='\n                <li>\n                    <a href="'+s+'">\n                        '+u+"\n                        <span>"+t(">h2",c).text()+"</span>\n                    </a>\n                </li>"}}catch(t){i=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw o}}e+='\n            </ul>\n        </nav>\n        <div class="opal-content-wrap content-wrap">';var d=1,f=!0,v=!1,p=void 0;try{for(var h,m=a[Symbol.iterator]();!(f=(h=m.next()).done);f=!0){var y=h.value;e+='<section id="'+("tab-section-"+t(y).attr("id"))+'"></section>',d++}}catch(t){v=!0,p=t}finally{try{!f&&m.return&&m.return()}finally{if(v)throw p}}e+="\n        </div>\n    </div>\n</section>",t("#postbox-container-2").after(e);var b=!0,g=!1,k=void 0;try{for(var w,C=a[Symbol.iterator]();!(b=(w=C.next()).done);b=!0){var S=w.value;t(">.inside",S).appendTo("#tab-section-"+t(S).attr("id")),t(S).hide()}}catch(t){g=!0,k=t}finally{try{!b&&C.return&&C.return()}finally{if(g)throw k}}}},{key:"_tabAction",value:function(){t("#opaltab-customfield .opal-nav ul li:first-child").addClass("tab-current"),t("#opaltab-customfield .opal-content-wrap > section:first-child").addClass("content-current"),t("#opaltab-customfield .opal-nav li a").on("click",function(a){a.preventDefault(),t("#opaltab-customfield .opal-nav li").removeClass("tab-current"),t(a.currentTarget).parent().addClass("tab-current");var e=t(a.currentTarget).attr("href");t("#opaltab-customfield .opal-content-wrap > section").removeClass("content-current"),t(e).addClass("content-current")})}}]),a}(),e=function(){function a(t){_classCallCheck(this,a),this.classmap=null,this.classmap=t,this.init()}return _createClass(a,[{key:"init",value:function(){var a=this;t(".opal-onoffswitch-wrapper").each(function(e,n){var i=t("input.onoffswitch-input",n),o=t(".onoffswitch-checkbox",n),r=a.getSelectorString(o);a.actionShowHide(r,o.prop("checked"),0),o.on("change",function(){a.actionShowHide(r,o.prop("checked")),o.prop("checked")?i.val("1"):i.val("0")})})}},{key:"actionShowHide",value:function(a,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;e?t(a).stop().slideDown(n):t(a).stop().slideUp(n)}},{key:"getSelectorString",value:function(t){return"object"===_typeof(t.data("show-fields"))&&t.data("show-fields").map(function(t){return".cmb2-id-"+t.replace(/_/g,"-")}).join(",")}}]),a}();t(document).ready(function(){new a,new e})}(jQuery);
//# sourceMappingURL=admin-page.js.map
